<ul class="nav nav-tabs">
	<li class="nav-item">
		<a class="nav-link active" href="/devices/23/status">Device Status</a>
	</li>
	<li class="nav-item">
		<a class="nav-link text-muted" href="/devices/23/analytics">AI Recommendations</a>
	</li>
</ul>

<div class="row">
	<div class="col-12 mt-4">
		<a href="#" class="text-purple text-purple-link px-2"><</a>
		<a href="#" class="text-purple-link text-purple">
			Back to Map and Floorplan view
		</a>
	</div>

	<div class="col-md-12 mt-4">
		<div class="card box-shadowed">
			<div class="card-body position-relative">

				<div class="row">
					<div class="col-2 align-self-center">
						<%= image_tag('regions/Image 1.png', width: "100%", alt: "Edit Entry") %>
					</div>

					<div class="col-10">
						<div class="row">
							<div class="col-12">
								<p class="text-muted">System Name</p>
								<div class="d-flex">
									<p class="font-weight-bold">AHU1</p>
									<p class="text-muted ml-auto">Chaengwattan Branch<span class="ml-4">Zone A</span><span class="ml-4">ODU#1</span></p>
								</div>
							</div>

							<div class="col">
								<div class="d-flex flex-column h-100 justify-content-center">
									<div class="h-100">
										<div class="text-muted">Status</div>
										<div class="onoffswitch">
											<input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch" tabindex="0" checked>
											<label class="onoffswitch-label" for="myonoffswitch">
												<span class="onoffswitch-inner"></span>
												<span class="onoffswitch-switch"></span>
											</label>
										</div>
									</div>
									<div class="border-top pt-2">
										<div class="text-muted">Supply Temperature</div>
										<p class="font-weight-bold">27 C</p>
									</div>
								</div>						
							</div>

							<div class="col">
								<div class="d-flex flex-column h-100 justify-content-center">
									<div class="pb-2 h-100">
										<div class="text-muted pb-1">Setpoint Temperature</div>
										<input type="number" class="col-md-9 font-weight-bold form-control form-control-sm d-inline" value=27> <strong>C</strong>
									</div>
									<div class="border-top pt-2">
										<div class="text-muted">Return Temperature</div>
										<p class="font-weight-bold">28 C</p>
									</div>
								</div>
							</div>

							<div class="col">
								<div class="d-flex flex-column h-100 justify-content-center">
									<div class="h-100">
										<div class="text-muted">Mode</div>
										<span class="d-1 fan-mode">Cool</span>
										<svg height="4" width="20">
											<line x1="0" y1="0" x2="20" y2="0" stroke="lightblue" stroke-width="3" />
										</svg>
										<span class="fan-mode">Dry</span>
										<svg height="4" width="20">
											<line x1="0" y1="0" x2="20" y2="0" stroke="lightblue" stroke-width="3" />
										</svg>
										<span class="fan-mode">Fan</span>
									</div>
									<div class="border-top pt-2">
										<div class="text-muted">Ambient Temperature</div>
										<p class="font-weight-bold">27 C</p>
									</div>
								</div>
							</div>

							<div class="col">
								<div class="d-flex flex-column h-100 justify-content-center">
									<div class="h-100">
										<div class="text-muted">Fan Speed</div>
										<span class="text-muted">1</span>
										<svg height="4" width="20">
											<line x1="0" y1="0" x2="20" y2="0" stroke="lightblue" stroke-width="3" />
										</svg>
										<span class="font-weight-bold">2</span>
										<svg height="4" width="20">
											<line x1="0" y1="0" x2="20" y2="0" stroke="lightblue" stroke-width="3" />
										</svg>
										<span class="text-muted">3</span>
										<svg height="4" width="20">
											<line x1="0" y1="0" x2="20" y2="0" stroke="lightblue" stroke-width="3" />
										</svg>
										<span class="text-muted">4</span>
									</div>
									<div class="border-top pt-2">
										<div class="text-muted">Ambient Humidity</div>
										<p class="font-weight-bold">28%</p>
									</div>
								</div>
							</div>
							<div class="col">
								<div class="d-flex flex-column h-100 justify-content-center">
									<div class="h-100">
										<div class="text-muted">Occupancy Count</div>
										<p class="font-weight-bold">35</p>
									</div>
									<div class="border-top pt-2">
										<div class="text-muted">Power Consumption</div>
										<p class="font-weight-bold">5.6 kWh</p>
									</div>
								</div>		
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="col-12 mt-4">
		<h4>Temperature and Humidity History</h4>
	</div>

	<div class="col-12 dropdown show mt-4">
		<a class="btn dropdown-toggle text-muted border-light-gray px-4" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
			Minutes
		</a>

		<div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
			<a class="dropdown-item" href="#">Minutes</a>
			<a class="dropdown-item" href="#">Hourly</a>
			<a class="dropdown-item" href="#">Daily</a>
		</div>
	</div>
</div>

<div class="row mt-4">
	<div class="col chart">
		<%= image_tag('charts/supply_return_temp.png', alt: "Edit Entry") %>
	</div>
	<div class="col chart">
		<%= image_tag('charts/demand_temp.png', alt: "Edit Entry") %>
	</div>
	<div class="col chart">
		<%= image_tag('charts/humidity.png', alt: "Edit Entry") %>
	</div>
	<div class="col chart">
		<%= image_tag('charts/power_consumption.png', alt: "Edit Entry") %>
	</div>
</div>

<script>

	$(".fan-mode").click(function(event) {
		const selectedMode = $(event.target);
		$(".fan-mode").removeClass("font-weight-bold");
		selectedMode.addClass("font-weight-bold");
	});

	let data = {value: .54, color: '#ffc107'};
	let el = $('.circle-progress');
	function foo(el) {
		el.parent().find('span').text(data.value + '%');
		el.circleProgress({
			value: data.value,
			thickness: 8,
			lineCap: 'round',
			fill: {
				color: data.color
			}
		});
	};
</script>